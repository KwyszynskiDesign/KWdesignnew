/* === PORTFOLIO PAGE (pełny plik po scaleniu) === */

/* === LOKALNE FONTY POPPINS === */
@font-face{
  font-family:'Poppins';
  src:url('../fonts/Poppins-Regular.woff2') format('woff2'),
      url('../fonts/Poppins-Regular.woff') format('woff');
  font-weight:400; font-style:normal; font-display:swap;
}
@font-face{
  font-family:'Poppins';
  src:url('../fonts/Poppins-SemiBold.woff2') format('woff2'),
      url('../fonts/Poppins-SemiBold.woff') format('woff');
  font-weight:600; font-style:normal; font-display:swap;
}
@font-face{
  font-family:'Poppins';
  src:url('../fonts/Poppins-Bold.woff2') format('woff2'),
      url('../fonts/Poppins-Bold.woff') format('woff');
  font-weight:700; font-style:normal; font-display:swap;
}

/* GLOBALNY FIX OVERFLOW */
* {
  box-sizing: border-box;
}

html, body {
  overflow-x: hidden;
}

/* --- HERO SECTION NA PORTFOLIO --- */
body.portfolio-page .hero-section{
  background-image:url('../images/ja-skupiony2.webp') !important;
}
.hero-section{
  position:relative; 
  min-height:100vh;
  display:flex; 
  flex-direction:column; 
  justify-content:center;
  align-items:flex-start;
  background-size:cover; 
  background-position:center center;
  background-repeat:no-repeat;
  overflow:hidden; 
  padding:2rem clamp(16px, 4vw, 40px);
  z-index:0; 
  font-family:'Poppins',sans-serif;
}
.hero-section::before{
  content:""; 
  position:absolute; 
  inset:0; 
  background:rgba(0,0,0,.4);
  backdrop-filter:blur(1px); 
  z-index:1;
}
.hero-section::after{
  content:""; 
  position:absolute; 
  top:0; left:0; right:0; 
  height:60%; 
  pointer-events:none; 
  z-index:1;
  background:linear-gradient(to right, rgba(0,0,0,.5) 0%, rgba(0,0,0,.15) 40%, rgba(0,0,0,0) 70%);
}
.hero-section>*{
  position:relative; 
  z-index:2;
}
.hero-content{
  max-width:700px; 
  text-align:left; 
  margin:0; 
  padding-left:clamp(20px, 5vw, 60px);
  color:#fff;
  z-index:3;
}
.hero-eyebrow{
  color:#ccc; 
  font-size:.95rem; 
  text-transform:uppercase; 
  letter-spacing:.08em; 
  margin-bottom:.8rem; 
  opacity:.85;
}
.hero-title{
  color:#fff; 
  text-shadow:0 1px 8px rgba(0,0,0,.12);
  font-size:clamp(2rem, 5vw, 3.5rem);
  margin-bottom:1rem;
}
.hero-subtitle{
  color:#eaeaea; 
  font-size:clamp(1rem, 2.5vw, 1.16rem); 
  max-width:600px; 
  margin:0 0 2.5rem 0;
  line-height:1.5;
}

/* Responsywność dla hero */
@media (max-width: 768px) {
  .hero-section {
    min-height:80vh;
    padding:1rem;
    justify-content:flex-start;
    padding-top:6rem;
  }
  .hero-content {
    padding-left:1rem;
    text-align:center;
  }
}

/* === ABOUT ME SECTION - NAPRAWIONE OVERFLOW === */
.about-me-section {
  margin-top: 0;
  padding: clamp(150px, 15vh, 200px) 0 clamp(80px, 10vh, 120px) 0;
  overflow: hidden; /* DODANE: ukrywa overflow */
}

.about-me-grid {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 clamp(20px, 4vw, 40px); /* DODANE: padding do kontenera */
  display: grid;
  grid-template-columns: minmax(0, 2fr) minmax(0, 300px); /* NAPRAWIONE: ograniczenie prawej kolumny */
  gap: clamp(60px, 8vw, 100px);
  align-items: center;
  overflow: hidden; /* DODANE: ukrywa overflow */
}

/* WIĘKSZE PRZESTRZENIE MIĘDZY TEKSTAMI */
.about-me-text h1 {
  margin-bottom: clamp(30px, 5vh, 50px);
}

.about-me-text .subtitle {
  margin-bottom: clamp(50px, 8vh, 80px);
}

.about-me-text > p {
  margin-bottom: clamp(60px, 10vh, 100px);
}

.skills-section {
  margin-bottom: clamp(60px, 10vh, 100px);
}

.skills-section h3 {
  margin: 0 0 clamp(25px, 4vh, 40px) 0;
}

.skills-section p {
  margin-bottom: clamp(30px, 5vh, 50px);
}

.interests-section h3 {
  margin: clamp(60px, 10vh, 100px) 0 clamp(25px, 4vh, 40px) 0;
}

.interests-section p {
  margin-bottom: clamp(50px, 8vh, 80px);
}

.logo-carousel-section {
  margin-top: clamp(60px, 10vh, 100px);
}

.logo-carousel-section h6 {
  margin-bottom: clamp(25px, 4vh, 40px);
}

/* NAPRAWIONE ZDJĘCIE - KOMPLETNE OGRANICZENIE */
.about-me-visuals {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: clamp(30px, 5vh, 50px);
  width: 100%;
  max-width: 300px; /* OGRANICZENIE SZEROKOŚCI */
  overflow: hidden; /* UKRYWA OVERFLOW */
  justify-self: center; /* WYŚRODKOWANIE */
}

.about-me-image {
  width: 100%;
  max-width: 280px; /* ZMNIEJSZONE MAKSIMUM */
  aspect-ratio: 1;
  border-radius: 20px;
  overflow: hidden;
  box-shadow: 0 20px 40px rgba(0,0,0,0.1);
}

.about-me-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.cta-portfolio {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 16px 32px;
  background: #2563eb;
  color: #fff;
  text-decoration: none;
  border-radius: 8px;
  font-weight: 600;
  font-size: 1rem;
  transition: all 0.3s ease;
  box-shadow: 0 4px 14px rgba(37,99,235,0.3);
  text-align: center;
  white-space: nowrap;
  max-width: 280px; /* DODANE: ograniczenie szerokości przycisku */
}

.cta-portfolio:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 25px rgba(37,99,235,0.4);
}

@media (max-width: 768px) {
  .about-me-grid {
    grid-template-columns: 1fr;
    text-align: center;
    gap: clamp(40px, 8vh, 60px);
  }
  
  .about-me-visuals {
    max-width: 100%;
    justify-self: center;
  }
  
  .about-me-image {
    max-width: 250px; /* ZMNIEJSZONE NA MOBILE */
  }

  .cta-portfolio {
    max-width: 250px; /* ZMNIEJSZONE NA MOBILE */
  }

  /* ZMNIEJSZONE MARGINESY NA MOBILE */
  .about-me-text h1 {
    margin-bottom: clamp(20px, 4vh, 30px);
  }

  .about-me-text .subtitle {
    margin-bottom: clamp(30px, 6vh, 50px);
  }

  .about-me-text > p {
    margin-bottom: clamp(40px, 8vh, 60px);
  }

  .skills-section {
    margin-bottom: clamp(40px, 8vh, 60px);
  }

  .interests-section h3 {
    margin: clamp(40px, 8vh, 60px) 0 clamp(15px, 3vh, 25px) 0;
  }
}

/* === KARUZELA - CZYSTA WERSJA === */
:root{
  --car-gap: 18px;      
  --car-pad: 0px;       
  --card-h: 280px;
}
.carousel-outer{
  position: relative;
  overflow: hidden;
  padding: 12px 0;
  z-index: 20;
  background: transparent;
  isolation: isolate;
}
.carousel-track {
  display: grid;
  grid-auto-flow: column;
  gap: var(--car-gap);
  grid-auto-columns: calc((100% - (var(--car-gap) * 2)) / 3);
  overflow-x: auto;
  padding-inline: var(--car-pad);
  scroll-snap-type: x mandatory;
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
  padding-block: 8px;
  background: none !important;
  background-image: none !important;
  position: relative;
  z-index: 21;
  isolation: isolate;
}
.carousel-track::-webkit-scrollbar{ display: none; }
.carousel-track{ scrollbar-width: none; }
/* === KARTY PORTFOLIO === */
.carousel-item{
  scroll-snap-align: start;
  background: #fff;
  border-radius: 16px;
  box-shadow: 0 4px 14px rgba(0,0,0,.08);
  overflow: hidden;
  height: var(--card-h);
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: center;
  padding: 16px 12px;
  text-align: center;
  transition: transform .25s ease, box-shadow .3s ease;
  cursor: pointer;
  position: relative;
  z-index: 22;
}
.carousel-item h3{
  font-size: 1rem;
  font-weight: 600;
  margin: 0 0 12px;
  color: #111;
  flex: 0 0 auto;
}
.carousel-item .ci-image {
  flex: 1 1 auto;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%;
  width: 100%;
  overflow: hidden;
  padding: 6px;
}
.carousel-item img {
  max-height: 90%;
  max-width: 100%;
  width: auto;
  height: auto;
  object-fit: contain;
  display: block;
  transition: opacity .25s ease;
}
.carousel-item:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 25px rgba(37,99,235,.15);
}
.carousel-item:hover img {
  opacity: 0.95;
}
/* === STRZAŁKI === */
.carousel-controls{
  margin: 32px auto 0 auto;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 16px;
  width: 100%;
  max-width: 200px;
  z-index: 20;
  position: relative;
}
.carousel-nav{
  width: 44px; 
  height: 44px;
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 12px;
  border: 1px solid rgba(0,0,0,.08);
  background: #fff;
  box-shadow: 0 4px 16px rgba(0,0,0,.08);
  cursor: pointer;
  font-size: 18px;
  line-height: 1;
  user-select: none;
  transition: transform .2s ease, box-shadow .25s ease, background .2s ease;
  color: #333;
}
.carousel-nav:hover { 
  transform: translateY(-2px); 
  box-shadow: 0 8px 24px rgba(0,0,0,.12); 
  background: #f8f9fa;
}
.carousel-nav[disabled] { 
  opacity: .35; 
  cursor: not-allowed; 
  transform: none;
}
.carousel-nav[disabled]:hover {
  transform: none;
  background: #fff;
  box-shadow: 0 4px 16px rgba(0,0,0,.08);
}
@media (max-width: 768px) {
  .carousel-controls {
    margin: 24px auto 0 auto;
    gap: 20px;
  }
  .carousel-nav {
    width: 48px;
    height: 48px;
    font-size: 20px;
  }
  .carousel-item img {
    max-height: 85%;
  }
  .carousel-track {
    grid-auto-columns: calc((100% - var(--car-gap)) / 1.5);
  }
}
/* --- PROJECT VIEWER --- */
.project-viewer{
  margin:0 auto 66px auto; 
  padding:0 16px 48px; 
  max-width:850px; 
  transition:max-height .42s;
  position:relative; 
  background:none; 
  font-family:'Poppins',sans-serif;
}
.project-viewer.hidden{display:none}
.project-content{
  background:#fff; 
  border-radius:22px; 
  box-shadow:0 8px 46px rgba(25,61,154,.10);
  padding:42px 30px 36px; 
  animation:fadeInUp .66s cubic-bezier(.51,.87,.32,1.3);
}
.close-button{
  background:#f4f7fa; 
  border:none; 
  border-radius:22px; 
  font-size:1rem; 
  color:#133b7b; 
  margin:0 0 22px auto; 
  display:block;
  padding:7px 22px; 
  cursor:pointer; 
  box-shadow:0 1px 8px rgba(23,91,247,.04); 
  transition:background .2s; 
  font-family:'Poppins',sans-serif;
}
.close-button:hover,
.close-button:focus-visible{
  background:#e3ecff; 
  outline:none;
}
@keyframes fadeInUp{
  from{opacity:0; transform:translateY(46px) scale(.96);} 
  to{opacity:1; transform:none;}
}
.error-msg{
  color:#d52b1e; 
  background:#ffeded; 
  border-radius:12px; 
  padding:24px 14px; 
  margin:32px auto; 
  text-align:center; 
  font-weight:600; 
  font-size:1.1rem; 
  font-family:'Poppins',sans-serif;
}
/* --- CASE STUDY OGÓLNE --- */
.case-study{
  background:#fff; 
  padding:50px 40px; 
  margin:50px auto; 
  border-radius:16px; 
  box-shadow:0 6px 24px rgba(0,0,0,.08);
  max-width:1100px; 
  line-height:1.6; 
  font-family:'Lato',sans-serif;
}
.case-grid{
  display:grid; 
  grid-template-columns:1fr 1fr; 
  gap:40px; 
  align-items:center; 
  margin-bottom:3rem;
}
.case-text h2{
  font-size:2rem; 
  margin-bottom:.5em; 
  font-family:'Playfair Display',serif;
}
.case-text .subtitle{
  font-size:1.1rem; 
  color:#555; 
  margin-bottom:1.8em;
}
.btn-case{
  display:inline-block; 
  background:#175bf7; 
  color:#fff; 
  text-decoration:none; 
  padding:12px 26px; 
  border-radius:8px; 
  font-weight:600; 
  transition:background .25s ease;
}
.btn-case:hover{background:#0f44b7}
.case-image img{
  display:block; 
  width:100%; 
  max-width:460px; 
  border-radius:14px; 
  box-shadow:0 4px 20px rgba(0,0,0,.12); 
  margin:0 auto; 
  height:auto;
}
@media (max-width:900px){
  .case-grid{grid-template-columns:1fr; gap:24px}
  .case-image img{max-width:100%}
}
/* === Voucher – Salon u Magdy === */
body.portfolio-page.page-voucher-magdy .breadcrumbs{
  max-width:1100px; 
  margin:14px auto 0; 
  padding:0 24px;
  font:500 14px/1.4 Poppins,system-ui,sans-serif; 
  opacity:.85;
}
body.portfolio-page.page-voucher-magdy .breadcrumbs a{
  color:#175bf7; 
  text-decoration:none;
}
.voucher-hero{
  min-height:60vh; 
  background-image:url('../images/salon%20Magdy%20mockup%20copy.png'); 
  background-position:center 20%;
}
.meta-list{
  display:grid; 
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); 
  gap:10px 20px; 
  margin:.6rem 0 0; 
  padding:0;
}
.meta-list li{list-style:none; color:#333}
.badge{
  display:inline-block; 
  background:#eef3ff; 
  color:#133b7b; 
  border:1px solid #cfe0ff; 
  padding:.28rem .6rem; 
  border-radius:999px; 
  font-size:.85rem; 
  font-weight:600;
}
.two-col{
  display:grid; 
  grid-template-columns:1.2fr .8fr; 
  gap:32px; 
  align-items:center;
}
@media (max-width:900px){
  .two-col{grid-template-columns:1fr}
}
.gallery{
  display:grid; 
  grid-template-columns:1fr 1fr; 
  gap:22px; 
  margin:8px 0 0;
}
@media (max-width:900px){
  .gallery{grid-template-columns:1fr}
}
.gallery img{cursor:zoom-in}
.lightbox{
  position:fixed; 
  inset:0; 
  background:rgba(0,0,0,.8); 
  display:none; 
  align-items:center; 
  justify-content:center; 
  z-index:9999;
}
.lightbox.open{display:flex}
.lightbox img{
  max-width:92vw; 
  max-height:90vh; 
  border-radius:14px; 
  box-shadow:0 10px 40px rgba(0,0,0,.45);
}
.lightbox__close{
  position:fixed; 
  top:20px; 
  right:24px; 
  background:#fff; 
  border:0; 
  border-radius:999px; 
  font-size:14px; 
  padding:8px 11px; 
  cursor:pointer;
}
.cta-center{
  text-align:center; 
  margin-top:40px;
}
/* === KWCS CASE STUDY HERO === */
:root {
  --kwcs-accent:#2563eb;
  --kwcs-ink:#0f172a;
  --kwcs-mute:#64748b;
  --kwcs-bg:#fff;
  --kwcs-wrap:1180px;
  --kwcs-padX:clamp(16px,4vw,32px);
}
.kwcs { 
  color:var(--kwcs-ink); 
  font-family:system-ui,-apple-system,Segoe UI,Inter,Roboto,sans-serif; 
}
.kwcs .wrap { 
  max-width:var(--kwcs-wrap); 
  margin:0 auto; 
  padding:0 var(--kwcs-padX); 
}
.kwcs-hero-head { 
  text-align:center; 
  padding:clamp(28px,6vw,56px) var(--kwcs-padX) 0; 
}
.kwcs-hero-head h1 { 
  font-size:clamp(28px,4vw,44px); 
  margin:.4em 0 .3em; 
  color:var(--kwcs-ink); 
}
.kwcs-hero-head .sub { 
  max-width:720px; 
  margin:0 auto; 
  font-size:clamp(16px,2vw,18px); 
  color:var(--kwcs-mute); 
}
.kwcs-hero-body { 
  padding:clamp(28px,6vw,56px) var(--kwcs-padX); 
}
.kwcs-hero-body .inner {
  display:grid; 
  grid-template-columns:1fr 1fr; 
  gap:2rem; 
  align-items:center;
  max-width:var(--kwcs-wrap); 
  margin:0 auto;
}
.hero-buttons { 
  display:flex; 
  flex-direction:column; 
  gap:1rem; 
}
.kwcs-chip { 
  display:inline-block; 
  font-size:.9rem; 
  padding:.75rem 1.2rem; 
  border-radius:12px; 
  font-weight:600; 
  color:#fff;
  text-decoration:none; 
  box-shadow:0 3px 12px rgba(0,0,0,.12); 
  transition:transform .2s ease, box-shadow .2s ease; 
}
.kwcs-chip:hover { 
  transform:translateY(-2px); 
  box-shadow:0 6px 20px rgba(0,0,0,.18); 
}
.chip-zakres{background:#87CEEB;} 
.chip-stack{background:#4682B4;} 
.chip-automatyzacje{background:#20B2AA;} 
.chip-dostarczone{background:#9370DB;}
.hero-image img.cover { 
  max-width:100%; 
  height:auto; 
  border-radius:12px; 
  box-shadow:0 6px 20px rgba(0,0,0,.15); 
  display:block; 
  margin:0 auto; 
}
.kwcs-sec { 
  padding:clamp(28px,6vw,56px) 0; 
}
.kwcs-sec h2 { 
  font-size:clamp(20px,3vw,26px); 
  margin:0 0 .6rem; 
}
.kwcs-trio { 
  display:grid; 
  gap:20px; 
  grid-template-columns:repeat(3,1fr); 
  margin:28px 0; 
}
@media (max-width:980px){ 
  .kwcs-trio{grid-template-columns:1fr;} 
}
.kwcs-card { 
  background:#fff; 
  border:1px solid #e6e9ef; 
  border-radius:16px; 
  padding:20px; 
  box-shadow:0 6px 30px rgba(2,6,23,.04); 
}
.kwcs-card h3 { 
  margin:0 0 .4rem; 
  font-size:1.05rem; 
}
.kwcs-card ul { 
  margin:.35rem 0 0 1.1rem; 
}
.kwcs-card li { 
  margin:.25rem 0; 
  color:var(--kwcs-mute); 
}
.kwcs-result { 
  display:flex; 
  flex-wrap:wrap; 
  align-items:center; 
  justify-content:space-between; 
  gap:18px;
  background:linear-gradient(180deg,#ffffff,#f4f7fb); 
  border:1px solid #e6e9ef; 
  border-radius:16px; 
  padding:18px; 
}
.kwcs-result p { 
  margin:0; 
  font-weight:600; 
}
@media (max-width:900px){
  .kwcs-hero-body .inner{
    grid-template-columns:1fr; 
    text-align:center;
  }
  .hero-buttons{align-items:center;}
  .hero-image{margin-top:1.5rem;}
}
/* === AKORDEON === */
.kwcs-accordion { 
  margin-top:30px; 
}
.kwcs-item {
  border:1px solid #ddd; 
  border-radius:8px; 
  margin-bottom:12px; 
  overflow:hidden; 
  background:#fff;
  box-shadow:0 3px 8px rgba(0,0,0,0.05); 
  transition:box-shadow .3s;
}
.kwcs-item.active { 
  box-shadow:0 6px 20px rgba(0,0,0,0.12); 
}
.kwcs-header {
  width:100%; 
  background:#f7f7f7; 
  border:none; 
  text-align:left; 
  padding:15px 20px;
  font-size:1.05rem; 
  font-weight:600; 
  cursor:pointer; 
  display:flex; 
  align-items:center; 
  justify-content:space-between;
  gap:.75rem; 
  user-select:none;
}
.kwcs-header .num { 
  font-weight:700; 
  margin-right:10px; 
  color:#0077cc; 
}
.kwcs-header .icon { 
  font-weight:700; 
  font-size:1.2rem; 
  transition:transform .3s; 
  margin-left:auto; 
  pointer-events:none; 
}
.kwcs-content {
  max-height:0; 
  overflow:hidden; 
  transition:max-height .35s ease, padding .35s ease;
  padding:0 20px; 
  background:#fff;
}
.kwcs-content ul { 
  padding:15px 0; 
  margin:0; 
  list-style:disc; 
}
.kwcs-item.active .kwcs-content { 
  padding:15px 20px; 
}
.kwcs-item.active .kwcs-header .icon { 
  transform:rotate(45deg); 
}
/* Responsywność */
@media (max-width:700px){
  .project-content{padding:18px 6vw 12px}
}
/* === NAPRAWY KOŃCOWE === */
.carousel-item,
.carousel-item.active,
#power-of-mind,
#power-of-mind.active {
  background: #fff !important;
  background-image: none !important;
  background-gradient: none !important;
  border: none !important;
  filter: none !important;
}
.carousel-item:hover,
.carousel-item.active:hover {
  transform: translateY(-3px) !important;
  box-shadow: 0 8px 25px rgba(37,99,235,.15) !important;
  background: #fff !important;
  border: none !important;
}
.carousel-item img {
  transform: none !important;
  opacity: 1 !important;
}
.carousel-item:hover img {
  opacity: 0.95 !important;
  transform: none !important;
}
