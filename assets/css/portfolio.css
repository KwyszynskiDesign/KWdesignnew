/* === PORTFOLIO PAGE & KARUZELA === */
/* === LOKALNE FONTY POPPINS === */
@font-face{
  font-family:'Poppins';
  src:url('../fonts/Poppins-Regular.woff2') format('woff2'),
      url('../fonts/Poppins-Regular.woff') format('woff');
  font-weight:400; font-style:normal; font-display:swap;
}
@font-face{
  font-family:'Poppins';
  src:url('../fonts/Poppins-SemiBold.woff2') format('woff2'),
      url('../fonts/Poppins-SemiBold.woff') format('woff');
  font-weight:600; font-style:normal; font-display:swap;
}
@font-face{
  font-family:'Poppins';
  src:url('../fonts/Poppins-Bold.woff2') format('woff2'),
      url('../fonts/Poppins-Bold.woff') format('woff');
  font-weight:700; font-style:normal; font-display:swap;
}

/* --- HERO SECTION NA PORTFOLIO --- */
body.portfolio-page .hero-section{background-image:url('../images/ja-skupiony2.webp') !important;}
.hero-section{
  position:relative; min-height:75vh;
  display:flex; flex-direction:column; justify-content:space-between; align-items:flex-start;
  background-size:cover; background-position:center top; background-repeat:no-repeat;
  overflow:hidden; padding:6rem 4vw 4rem 8vw; z-index:0; font-family:'Poppins',sans-serif;
}
.hero-section::before{
  content:""; position:absolute; inset:0; background:rgba(0,0,0,.55);
  backdrop-filter:blur(1px); z-index:1;
}
.hero-section::after{
  content:""; position:absolute; inset:0; pointer-events:none; z-index:1;
  background:linear-gradient(to right, rgba(0,0,0,.5) 0%, rgba(0,0,0,.15) 40%, rgba(0,0,0,0) 70%);
}
.hero-section>*{position:relative; z-index:2}

/* --- HERO CONTENT (dopasowane klasy) --- */
.hero-content{max-width:700px; text-align:left; margin:10vh 0 0 5vw; color:#fff;}
.hero-eyebrow{color:#ccc; font-size:.95rem; text-transform:uppercase; letter-spacing:.08em; margin-bottom:.8rem; opacity:.85;}
.hero-title{color:#fff; text-shadow:0 1px 8px rgba(0,0,0,.12);}
.hero-subtitle{color:#eaeaea; font-size:1.16rem; max-width:600px; margin:0 0 2.5rem 0;}

/* =========================
   KARUZELA – USTAWIENIA
   ========================= */
:root{
  --ci-w:240px;        /* szerokość kafla (desktop) */
  --ci-h:200px;        /* wysokość kafla */
  --ci-thumb:112px;    /* bok kwadratu na logo */
  --ci-pad:14px;       /* padding w kaflu */
  --ci-gap:16px;       /* odstęp między thumb a tytułem */
}

/* --- PORTFOLIO KARUZELA --- */
.carousel-outer{
  width:100%; max-width:1120px;
  display:flex; align-items:center; justify-content:center; gap:18px; /* strzałki po bokach */
  margin:0 auto 4vh auto; background:transparent; z-index:6; pointer-events:none;
}
.carousel-outer>.carousel-nav,
.carousel-outer>.carousel-track{pointer-events:auto;}

.carousel-track{
  display:flex; gap:36px; overflow:auto; scroll-behavior:smooth; scrollbar-width:none; -ms-overflow-style:none;
  padding:0 2vw 12px; width:100%; max-width:920px; min-height:172px; scroll-snap-type:x mandatory; align-items:flex-end;
  position:relative; z-index:6;
  overflow:visible; isolation:isolate;       /* cienie nie będą przycinane, z-index przewidywalny */
}
.carousel-track::-webkit-scrollbar{display:none}

/* Kafelek – równe wymiary, bez rotacji */
.carousel-item{
  background:#fff; border-radius:20px; box-shadow:0 2px 20px rgba(24,52,88,.09);
  width:var(--ci-w); min-width:var(--ci-w); height:var(--ci-h);
  padding:var(--ci-pad); text-align:center; cursor:pointer; user-select:none; border:2px solid transparent;
  transition:box-shadow .22s, border-color .22s, transform .24s cubic-bezier(.41,.89,.52,1.2);
  will-change:transform; scroll-snap-align:center; position:relative; z-index:7; font-family:'Poppins',sans-serif;
  display:flex; flex-direction:column; justify-content:flex-start; align-items:center; gap:var(--ci-gap);
}

/* Thumb-box – preferowany układ (<div class="ci-thumb"><img/></div>) */
.ci-thumb{
  width:var(--ci-thumb); height:var(--ci-thumb); padding:8px; border-radius:16px;
  background:#f6faff; display:flex; align-items:center; justify-content:center;
  box-shadow:0 4px 20px rgba(31,89,221,.04); overflow:hidden;
}
.ci-thumb img{max-width:100%; max-height:100%; width:auto; height:auto; object-fit:contain; display:block;}

/* Fallback: gdy obrazek jest bez .ci-thumb */
.carousel-item>img{
  width:var(--ci-thumb); height:var(--ci-thumb); object-fit:contain; padding:8px; border-radius:16px;
  background:#f6faff; box-shadow:0 4px 20px rgba(31,89,221,.04); display:block; margin:0;
}

/* Tytuł */
.carousel-item h3{
  margin:0; font-size:1.13rem; color:#19356d; font-weight:600; letter-spacing:.01em; line-height:1.2; transition:color .22s;
}

/* Anti-collision: więcej luzu gdy jest hover (przeglądarki z :has) */
.carousel-track:has(.carousel-item:hover){ gap:44px; }

/* Hover & Active – subtelnie, bez rotate */
.carousel-item:hover,
.carousel-item:focus-visible{
  border-color:#175bf7; box-shadow:0 10px 36px rgba(23,91,247,.13);
  transform:translateY(-10px) scale(1.02); /* delikatny scale, brak przecinania */
  z-index:8; outline:none;
}
.carousel-item.active{
  border-color:#175bf7; box-shadow:0 12px 42px rgba(23,91,247,.20);
  transform:translateY(-12px) scale(1.05); z-index:9;
}

/* --- STRZAŁKI --- */
.carousel-nav{
  background:#f4f7fc; border:none; border-radius:50%; font-size:2.1rem; width:46px; height:46px; min-width:46px; min-height:46px;
  cursor:pointer; transition:background .18s, box-shadow .18s; box-shadow:0 2px 10px rgba(40,86,170,.08); color:#194c92;
  display:flex; align-items:center; justify-content:center; margin:0 12px; z-index:10;
}
.carousel-nav:hover,.carousel-nav:focus-visible{background:#e3ecff; outline:none}

/* --- PROJECT VIEWER --- */
.project-viewer{
  margin:0 auto 66px auto; padding:0 16px 48px; max-width:850px; transition:max-height .42s;
  position:relative; background:none; font-family:'Poppins',sans-serif;
}
.project-viewer.hidden{display:none}
.project-content{
  background:#fff; border-radius:22px; box-shadow:0 8px 46px rgba(25,61,154,.10);
  padding:42px 30px 36px; animation:fadeInUp .66s cubic-bezier(.51,.87,.32,1.3);
}
.close-button{
  background:#f4f7fa; border:none; border-radius:22px; font-size:1rem; color:#133b7b; margin:0 0 22px auto; display:block;
  padding:7px 22px; cursor:pointer; box-shadow:0 1px 8px rgba(23,91,247,.04); transition:background .2s; font-family:'Poppins',sans-serif;
}
.close-button:hover,.close-button:focus-visible{background:#e3ecff; outline:none}
@keyframes fadeInUp{from{opacity:0; transform:translateY(46px) scale(.96);} to{opacity:1; transform:none;}}
.error-msg{color:#d52b1e; background:#ffeded; border-radius:12px; padding:24px 14px; margin:32px auto; text-align:center; font-weight:600; font-size:1.1rem; font-family:'Poppins',sans-serif;}

/* --- GRADIENT NA KOŃCU KARUZELI (wyłączony) --- */
.carousel-track:after{content:''; display:none; pointer-events:none;}

/* --- RESPONSYWNOŚĆ KARUZELI --- */
@media (max-width:900px){
  .carousel-track{max-width:96vw}
  .carousel-outer{max-width:99vw}
  :root{ --ci-w:220px; --ci-h:188px; --ci-thumb:100px; }
}
@media (max-width:700px){
  .carousel-outer{margin-bottom:1.5vh}
}
@media (max-width:650px){
  .carousel-track{gap:19px; min-height:128px}
  :root{ --ci-w:160px; --ci-h:150px; --ci-thumb:72px; --ci-pad:10px; --ci-gap:10px; }
  .carousel-nav{width:34px; height:34px; font-size:1.3rem; min-width:34px; min-height:34px}
  .project-content{padding:18px 6vw 12px}
  .carousel-item h3{font-size:.95rem}
  .carousel-track:has(.carousel-item:hover){ gap:26px; }
}

/* --- Case Study (ogólne) --- */
.case-study{
  background:#fff; padding:40px 30px; margin:40px auto; border-radius:16px; box-shadow:0 6px 24px rgba(0,0,0,.08);
  max-width:900px; line-height:1.6; font-family:'Poppins',sans-serif;
}
.case-header h2{font-size:2rem; margin-bottom:.4em; font-weight:700;}
.case-header .subtitle{font-size:1.1rem; color:#666; margin-bottom:1.5em;}
.case-section{margin-bottom:2em}
.case-section h3{font-size:1.4rem; margin-bottom:.6em; font-weight:600;}
.case-section ul{list-style:none; padding-left:0}
.case-section ul li::before{content:"• "; color:#0077cc; font-weight:bold;}
.case-image{display:block; max-width:100%; margin:1em auto; border-radius:12px; box-shadow:0 4px 18px rgba(0,0,0,.1);}
.close-button{background:#f5f5f5; border:none; padding:8px 16px; margin-bottom:20px; font-size:.9rem; border-radius:8px; cursor:pointer; transition:background .2s ease;}
.close-button:hover{background:#ddd}
.case-image{display:block; width:100%; max-width:600px; margin:1em auto; border-radius:12px; box-shadow:0 4px 18px rgba(0,0,0,.1); height:auto;}
@media (min-width:1200px){ .case-image{max-width:500px} }

/* --- CASE STUDY GRID --- */
.case-study{
  font-family:'Lato',sans-serif; background:#fff; padding:50px 40px; margin:50px auto; border-radius:16px; box-shadow:0 6px 24px rgba(0,0,0,.08);
  max-width:1100px; line-height:1.6;
}
.case-grid{display:grid; grid-template-columns:1fr 1fr; gap:40px; align-items:center; margin-bottom:3rem;}
.case-text h2{font-size:2rem; margin-bottom:.5em; font-family:'Playfair Display',serif;}
.case-text .subtitle{font-size:1.1rem; color:#555; margin-bottom:1.8em;}
.btn-case{display:inline-block; background:#175bf7; color:#fff; text-decoration:none; padding:12px 26px; border-radius:8px; font-weight:600; transition:background .25s ease;}
.btn-case:hover{background:#0f44b7}

/* --- Obrazek w prawej kolumnie --- */
.case-image img{
  display:block; width:100%; max-width:460px; border-radius:14px; box-shadow:0 4px 20px rgba(0,0,0,.12); margin:0 auto; height:auto;
}

/* --- Responsywność --- */
@media (max-width:900px){
  .case-grid{grid-template-columns:1fr; gap:24px}
  .case-image img{max-width:100%}
}

/* === Voucher – Salon u Magdy (podstrona) === */
body.portfolio-page.page-voucher-magdy .breadcrumbs{
  max-width:1100px; margin:14px auto 0; padding:0 24px;
  font:500 14px/1.4 Poppins,system-ui,sans-serif; opacity:.85;
}
body.portfolio-page.page-voucher-magdy .breadcrumbs a{color:#175bf7; text-decoration:none}

/* HERO tej podstrony – korzysta z globalnego .hero-section */
.voucher-hero{min-height:60vh; background-image:url('../images/salon%20Magdy%20mockup%20copy.png'); background-position:center 20%;}

/* Utilities na case study */
.meta-list{display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:10px 20px; margin:.6rem 0 0; padding:0}
.meta-list li{list-style:none; color:#333}
.badge{display:inline-block; background:#eef3ff; color:#133b7b; border:1px solid #cfe0ff; padding:.28rem .6rem; border-radius:999px; font-size:.85rem; font-weight:600}

.two-col{display:grid; grid-template-columns:1.2fr .8fr; gap:32px; align-items:center}
@media (max-width:900px){.two-col{grid-template-columns:1fr}}

.gallery{display:grid; grid-template-columns:1fr 1fr; gap:22px; margin:8px 0 0}
@media (max-width:900px){.gallery{grid-template-columns:1fr}}
.gallery img{cursor:zoom-in}

/* Lightbox */
.lightbox{position:fixed; inset:0; background:rgba(0,0,0,.8); display:none; align-items:center; justify-content:center; z-index:9999}
.lightbox.open{display:flex}
.lightbox img{max-width:92vw; max-height:90vh; border-radius:14px; box-shadow:0 10px 40px rgba(0,0,0,.45)}
.lightbox__close{position:fixed; top:20px; right:24px; background:#fff; border:0; border-radius:999px; font-size:14px; padding:8px 11px; cursor:pointer}

.cta-center{text-align:center; margin-top:40px}
